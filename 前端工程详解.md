# 前端工程详解

## 介绍

基于[UmiJS](https://umijs.org/zh/guide)开发的前端React框架。

## 目录结构

![avatar](http://www.inoumi.com/webwxgetmsgimg.jpeg)

- .umirc 

	工程配置文件，[了解更多](https://umijs.org/zh/config/)
    - 开启`dva`、`dynamic import`、`dll`功能
    - 低版本浏览器兼容
	- 路由配置采用`配置文件`的方式，不采用约定路由

   
- config

	存放用于工程级的配置文件，如路由配置、皮肤配置等
   
- models

	model分两类，一是`全局model`，二是`页面model`。全局model存于/src/models/目录，所有页面都可引用；页面model不能被其他页面所引用, 规则如下：
    - `src/models/**/*.js`为global model
    - `src/pages/**/models/**/*.js`为page model
    - global model全量载入，page model在`production`时按需载入，在`development`时全量载入
    - page model为page js所在路径下`models/**/*.js` 的文件
    - 约定 model.js 为单文件 model，解决只有一个 model 时不需要建 models 目录的问题，有 model.js 则不去找 models/**/*.js

	model是`DvaJS`的核心，更多细节请前往[官网](https://dvajs.com/guide/)
    
    
- pages

	页面路由实现，一个路由对应一个文件夹，子model和components根据业务需求增加，如登录页:

    - login
    	- components
    	- index.js
    	- index.less
    	- model.js


- layouts

	全局布局，在路由外面套的一层路由。比如，你的路由是：
	 ```javascript
    [
      { path: '/', component: './pages/index' },
      { path: '/users', component: './pages/users' },
	]
 	 ```
	如果有 layouts/index.js，那么路由就会变为：
	 ```javascript
    [
      { path: '/', component: './layouts/index', routes: [
        { path: '/', component: './pages/index' },
        { path: '/users', component: './pages/users' },
      ] }
	]
 	 ```
     
	- 每个路由页的父组件，可通过配置实现不同路由对应不同的layout
	- 对于复杂如dashboard页面，可具体通过antd的Layout布局
	- 对于没有特殊要求的页面，可以直接返回子组件，即页面本身，如

  ```javascript
    export default ({ children }) => {
      return children;
    };
  ```

- components（src根目录下）

	实现全局通用组件，如针对业务封装Layout、Loader、Page等

- services

	服务器api接口定义

- utils

	工具目录，常量定义、配置变量定义、Http请求封装等
    
- mock

	集成[mockjs](http://mockjs.com/)功能，实现前后端分离
    
- plugins
	
    Dva功能相关扩展，暂时不用在意
    
- e2e

	浏览器end to end测试用例

- themes

	皮肤样式，预留皮肤切换功能